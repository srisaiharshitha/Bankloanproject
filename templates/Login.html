<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign In</title>
  <link rel="stylesheet" href="../static/css/Login.css" />
</head>

<body>
  <a class="back-btn" href="/home">Back</a>

  <div id="container">

    <form id="loginForm" action="/login" method="POST">   <!-- ✔ FIXED -->

      <h2>SIGN IN</h2>

      <button class="google-btn" type="button">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
             class="google-icon">
        <a href="https://www.gmail.com/">Sign in with Google</a>
      </button>

      <p class="or-text">or sign in with your email</p>

      <div class="form-group">
        <label>Email</label>
        <input id="email" name="email" type="email" placeholder="Enter your email" required> <!-- ✔ FIXED -->
        <span id="emailError" class="error"></span> <!-- ✔ ADDED -->
      </div>

      <div class="form-group">
        <label>Password</label>
        <input id="password" name="password" type="password" placeholder="Enter your password" required> <!-- ✔ FIXED -->
        <span id="passwordError" class="error"></span> <!-- ✔ ADDED -->
      </div>

      <button class="login-btn" type="submit">Sign in</button>

      <p class="forgot"><a href="#">Forgot password?</a></p>

      <p class="register">Don't have an account? <a href="/register">Register</a></p>

    </form>
  </div>

<script>
  const loginForm = document.getElementById("loginForm");
  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");
  const emailError = document.getElementById("emailError");
  const passwordError = document.getElementById("passwordError");

  loginForm.addEventListener("submit", function(event) {
    let valid = true;

    emailError.textContent = "";
    passwordError.textContent = "";

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (!emailRegex.test(emailInput.value.trim())) {
      emailError.textContent = "Please enter a valid email address.";
      emailError.style.color = "red";
      valid = false;
    }

    if (passwordInput.value.trim().length < 6) {
      passwordError.textContent = "Password must be at least 6 characters long.";
      passwordError.style.color = "red";
      valid = false;
    }

    if (!valid) event.preventDefault();
  });
</script>

</body>
</html>
